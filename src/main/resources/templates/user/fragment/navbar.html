<div th:fragment="navbar" style="position: fixed;z-index: 10000000;width: 100%">
    <!-- Spinner Start -->
    <div id="spinner"
         class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->
    <!-- Navbar & Hero Start -->


    <div class="container-fluid nav-bar sticky-top px-4 py-2 py-lg-0">
        <nav class="navbar navbar-expand-lg navbar-light">
            <a href="" class="navbar-brand p-0" style="display: flex">
                <img th:src="@{/admin/assets/images/logoPetCare.svg}" alt="Logo" style="width: auto; height: 50px">
                <h1 class="display-6 text-dark" style="margin: 0;padding-top: 10px; padding-left: 10px">Pet Care</h1>

            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="fa fa-bars"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav mx-auto py-0">
                    <a th:href="@{/home}" class="nav-item nav-link active">Trang chủ</a>
                    <a th:href="@{/about}" class="nav-item nav-link ">Giới thiệu</a>
                    <a th:href="@{/services}" class="nav-item nav-link">Dịch vụ</a>
                    <a th:href="@{/blog}" class="nav-item nav-link">Tin tức & Khuyến mãi</a>
                    <!--                    <a th:href="@{/contact}" class="nav-item nav-link">Liên hệ</a>-->
                </div>
                <div class="nav-item dropdown">
                    <div>
                        <div class="team-icon d-none d-xl-flex justify-content-center me-3">
                            <a th:href="@{/booking}" class="btn  btn-light  mx-1 nav-link">
                                <i class="fas fa-calendar-alt" style="margin-right: 5px"></i>Đặt hẹn</a>
                        </div>
                    </div>
                </div>

<!--                <div th:if="${username == null}">-->
<!--&lt;!&ndash;                    <a th:href="@{/login}" class="btn btn-primary rounded-pill py-2 px-4 flex-shrink-0">Đăng nhập/ Đăng&ndash;&gt;-->
<!--&lt;!&ndash;                        ký</a>&ndash;&gt;-->
<!--                    <a th:href="@{/login}" class="btn btn-primary py-2 px-4 flex-shrink-0">-->
<!--                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"-->
<!--                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                             class="feather feather-user">-->
<!--                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>-->
<!--                            <circle cx="12" cy="7" r="4"></circle>-->
<!--                        </svg>-->
<!--                    </a>-->
<!--                </div>-->

                <div th:if="${#authentication.name == null || #authentication.name == 'anonymousUser'}">
                    <a th:href="@{/login}" class="btn btn-primary py-2 px-4 flex-shrink-0">
<!--                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"-->
<!--                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                             class="feather feather-user">-->
<!--                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>-->
<!--                            <circle cx="12" cy="7" r="4"></circle>-->
<!--                        </svg>-->
                        Đăng nhập
                    </a>
                </div>

                <div th:if="${#authentication.name != null && #authentication.name != 'anonymousUser'}">
                    <div class="nav-item dropdown">
                        <div>
                            <a href="#" class="nav-link" data-bs-toggle="dropdown" style="display: flex">
<!--                                <img th:src="@{/my/img/59PpIkbEsTyCv (1).png}" alt="Avatar" class="avatar"-->
<!--                                     style="width: 40px; height: 40px; border-radius: 50%;" id="dropdownToggle">-->

                                <p style="margin: 0; margin-top: 0.5rem;">
                                    Xin chào, [[${#authentication.principal != null and #authentication.principal.fullName != null ? #authentication.principal.fullName.split(' ')[#authentication.principal.fullName.split(' ').length - 1] : ''}]]
                                </p>

                                <img id="userAvatar"
                                     alt="Avatar"
                                     class="avatar"
                                     style="width: 40px; height: 40px; border-radius: 50%; margin-left: 0.5rem;"
                                     th:src="${#authentication.principal != null && #authentication.principal.imgBase64 != null ? 'data:image/png;base64,' + #authentication.principal.imgBase64 : '/admin/assets/images/logoPetCare.svg'}" />
                            </a>
                        </div>

                        <div class="dropdown-menu m-0">
                            <a th:href="@{/user-profile}" class="dropdown-item">Tài khoản</a>
                            <a th:href="@{/history}" class="dropdown-item">Lịch sử</a>
                            <a th:href="@{/logout}" class="dropdown-item">Đăng xuất</a>
                        </div>
                    </div>
                </div>

            </div>
        </nav>
    </div>
    <!-- Navbar & Hero End -->
</div>
